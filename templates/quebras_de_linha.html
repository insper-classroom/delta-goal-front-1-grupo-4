{% include 'header.html' %}


<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delta Goal</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/quebras_de_linha.css') }}">
    <link rel="icon" href="{{ url_for('static', filename='img/delta_goal_logo.png') }}">
</head>
<body>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">
    google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(drawChart);
    
    
    async function drawChart() {
        
        var response = await fetch("http://localhost:5000/palmeiras_desfechos")
        response = await response.json()
        
        let dados = response
        console.log(dados)
        let keys = Object.keys(dados)
        const list = [["Desfecho", "Rupturas"]]
        
        for (let i = 0; i < keys.length; i++) {
            list.push([String(keys[i]),    dados[keys[i]]])
        }
        var data = google.visualization.arrayToDataTable(list);
        var options = {
            title: 'Desfechos'
        };
        
        var chart = new google.visualization.PieChart(document.getElementById('piechart'));
        
        
        chart.draw(data, options);
        
    }
    
    window.onload = drawChart()
    
  </script>


    <div class="left-container">
        <h3>Visão Geral</h3>
        <h4>Permanência nas sub-zonas</h4>
        <div class="campo-futebol">
        <img src="static/img/campo.png" alt="Campo de Futebol">
        
        <div class="zona" id="M2" onmouseover='23' onmouseout="14" data-percentage='%'>
            <p class="info">2</p>
        </div>
            <div class="zona" id="B1" onmouseover="showPercentage(this)" onmouseout="showName(this)">
                <p class="info">1.B</p>
            </div>
            <div class="zona" id="B2" onmouseover="showPercentage(this)" onmouseout="showName(this)" >
                <p class="info">1.A</p>
            </div>  
            <div class="zona" id="A3" onmouseover="showPercentage(this)" onmouseout="showName(this)">
                <p class="info">3.B</p>
            </div>
            <div class="zona" id="B3" onmouseover="showPercentage(this)" onmouseout="showName(this)">
                <p class="info">3.A</p>
            </div>
        </div>
        <div class="listas-jogadores-container">
            <div class="lista-jogadores-container sep">
                <h3>Destaques SEP</h3>
                <ul class="lista-jogadores">
                    <!-- jogadores em destaques -->
                    {% for jogador in destaques.pal %}
                    <li class="jogador-item">
                        <!-- <img src="{{ url_for('static', filename=jogador.imagem) }}" alt="{{ jogador.nome }}"> -->
                        <div class="jogador-info">
                            <h3>{{ jogador.nome_jogador }}</h3>
                            <p>{{ jogador.num_participacoes_em_cruzamentos }}</p>
                        </div>
                    </li>
                    {% endfor %}
                </ul>
            </div>

            <div id="piechart" style="width: 500px; height: 400px; margin: 50px; color:black;"></div>
                
            </div>
        </div>



        <div class="right-container">
            <h2>Lances</h2>
            <h3>Lista de quebras</h3>
            <h4>Selecione um lance para visualizar</p>
                
        <video id="myVideo" width="630" height="480" controls>
            <source src="static/video/Jogo_Palmeiras_x_Bragantino.mp4" type="video/mp4">
            Seu navegador não suporta vídeos HTML5.
        </video>
        <br>
        <div class="video-controls">
            <button id="retroceder5" class="video-btn" onclick="retroceder(5)">◀ 5s</button>
            <button id="retroceder1" class="video-btn" onclick="retroceder(1)">◀ 1s</button>
            <button id="playPause" class="video-btn" onclick="playPause()">▶/⏸</button>
            <button id="avançar5" class="video-btn" onclick="avançar(5)">5s ▶</button>
            <button id="avançar1" class="video-btn" onclick="avançar(1)">1s ▶</button>
        </div>
    </div>
  </body>
  </html>